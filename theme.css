@import url("style/root.css");
@import url("style/begin-setting.css");
@import url("style/TextColorMenu.css");
@import url("style/CodeBlock.css");
@import url("style/TabBar.css");
@import url("style/Printer.css");
@import url("style/NodeHeading-biaoti.css");

@keyframes menu {
    0% {opacity: 0.13;}
    50% { transform: scale(1.01);opacity: 0.5;}
    100% { transform: scale(1);}
}
@keyframes item-focus {
    0% { transform: scale(.01);opacity: 0.5;}
    100% { transform: scale(1); }
}
@keyframes flex-column{
    0% { transform: scale(1,.86);transform-origin: 0 0 ;opacity: 0;}
    100% { transform: scale(1,1);transform-origin: 0 0 ;}
}
@keyframes tree-list{
    0% { transform: scale(1,1);transform-origin: 0 0 ;opacity: 0;}
    33% { transform: scale(1,1.01);transform-origin: 0 0 ;opacity: 0.58;}
    77% { transform: scale(1,1.01);transform-origin: 0 0 ;opacity: 0.85;}
    100% { transform: scale(1,1); transform-origin: 0 0 ;}
}
.layout__wnd--active .layout-tab-bar .item--focus::after{
	animation: item-focus 0.2s ease-in-out;
}
.protyle-util{
    animation: menu 0.2s ease-in-out;
}
/*侧栏展开动画*/
#layouts>.fn__flex>.fn__flex-column>.fn__flex>div[data-type=wnd]>.layout-tab-container>.fn__flex-column{animation: flex-column  0.13s ease-in-out;}
.b3-list-item--hide-action{
    animation: tree-list  0.13s ease-in;
}

/*引用块弹出框*/
.block__popover--open{
	animation: menu 0.13s ease-in-out;
    opacity: .96;
    box-shadow: rgb(38, 57, 77) 0px 20px 30px -10px !important;
}
.block__popover--open:hover {
    opacity: 1;
    box-shadow: rgba(85, 91, 255,0.31) 0px 0px 0px 3px, rgba(31, 193, 27,0.38) 0px 0px 0px 6px, rgba(255, 217, 19,0.58) 0px 0px 0px 9px, rgba(255, 156, 85,0.96) 0px 0px 58px 12px, rgba(255, 85, 85,0.88) 0px 0px 0px 15px !important;
}
.block__popover--open:hover *{
    background-color: var(--SCC-White) !important;
}
/* 当前打开文档右上角【更多】按钮位置和大小微调 */
.protyle-breadcrumb > button svg {
    scale: 1.31 !important;
    margin-right: 7px;
}

/* 避免搜索框阴影样式被遮挡 */
.search__header {
    z-index: 99;
}

/* 设置面板关闭按钮 */
.fn__a {
    color: var(--SCC-Cyan-186-light);
}
.fn__a:hover {
    color: var(--SCC-Cyan-186);
}
/* 搜索图标 */
.b3-form__icon-icon, .search__arrowdown {
    color: var(--SCC-Blue-186-light);
}

/* 按钮的样式 */
.b3-button--outline {
    color: var(--SCC-White);
    background-color: var(--SCColor);
    box-shadow: rgba(254,239,234,0.13) 0px 2px 1px, rgba(254,239,234,0.13) 0px 4px 2px, rgba(254,239,234,0.13) 0px 8px 4px, rgba(254,239,234,0.13) 0px 16px 8px;
}
.b3-button--outline:focus, .b3-button--outline:hover {
    color: var(--SCC-Purple-Soledar);
    background-color: var(--b3-theme-primary-lightest);
    box-shadow: rgba(254,239,234, 0.4) 0px 3px, rgba(0,6,85, 0.3) 0px 5px, rgba(72,69,80, 0.1) 0px 8px;
}
/* 输入框样式 */
.b3-text-field, .pcr-app .pcr-interaction .pcr-result {
    border: 1px;
    border-radius: 4px;
    box-shadow: rgba(128,81,231,0.31) 3px 3px 6px 0px inset, rgba(255, 255, 255, 0.5) -3px -3px 6px 1px inset;
    padding: 4px 8px;
    line-height: 20px;
    box-sizing: border-box;
    color: var(--b3-theme-on-background);
    transition: box-shadow 120ms 0ms cubic-bezier(0, 0, 0.2, 1);
    background-color: var(--b3-theme-background);
}
.b3-text-field:hover {
    box-shadow: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px, rgba(6, 24, 44, 0.65) 0px 4px 6px -1px, rgba(255, 255, 255, 0.08) 0px 1px 0px inset;
}
.b3-text-field:focus {
    box-shadow: rgba(0, 0, 0, 0.25) 0px 14px 28px, rgba(0, 0, 0, 0.22) 0px 10px 10px;
}
/* 选择框样式 */
.b3-dialog--open .b3-dialog__container .b3-select {
    border: 1px solid var(--SCC-Purple-186-light);
    padding-top: 0px !important;
    padding-bottom: 0px !important;
    box-shadow: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px, rgba(6, 24, 44, 0.65) 0px 4px 6px -1px, rgba(255, 255, 255, 0.08) 0px 1px 0px inset;
}
/* 检查框样式 */
.b3-switch:checked {
    background-color: var(--SCC-Purple-186-light);
}
.b3-switch:checked:after {
    background-color: var(--SCC-Purple-186);
    border-color: var(--SCC-Purple-186);
}

/* 解决特定缩放下出现意外滚动条 */
.fn__flex-column {
    overflow: hidden;
}

/* kbd 按键的样式 */
.b3-typography kbd, .b3-typography span[data-type~=kbd], .protyle-wysiwyg kbd, .protyle-wysiwyg span[data-type~=kbd]{
    border-radius: 6px;
    color: var(--SCC-Black-186);
    background-color: var(--SCC-White-light);
    vertical-align: 2px;
    /* box-shadow: var(--SCC-White) 0px 1px 2px -3px, var(--SCC-primary-light) 0px -1px 0px 1px inset; */
    box-shadow: rgba(254,239,234, 0.4) 0px 3px, rgba(0,6,85, 0.3) 0px 5px, rgba(72,69,80, 0.1) 0px 8px;
    border: 0px solid;
    margin-right: 2px;
    font-family: var(--b3-font-family);
}


.protyle-wysiwyg [data-node-id] span[data-type~=block-ref]::before {
    /*前半部分的符号*/
    content: "⁅⁅";
    color: var(--SCC-Red-WPS);
    font-weight: bold;
    display: inline-block;
    width: 1.31em;
    text-align: center;
  }
  .protyle-wysiwyg [data-node-id] span[data-type~=block-ref]::after {
    /*后半部分的符号*/
    content: "⁆⁆";
    color: var(--SCC-Red-WPS);
    /* font-size: 1em; */
    /* margin-right: 0.5em; */
    font-weight: bold;
    display: inline-block;
    width: 1.31em;
    /* text-align: left; */
    text-align: center;
  }
  .protyle-wysiwyg [data-node-id] span[data-type~=block-ref]:hover {
    padding-bottom: 3px;
    animation: waveMove 1s infinite linear;
    background: var(--custom-span-ref-animation-icon) repeat-x 0 100%;
    background-size: 16px auto;
  }
  

/* ——————————————————————————H1-H6 标题样式—————————————————————————— */
/* 给标题设置统一的颜色 */

.protyle-wysiwyg [data-node-id].h1,
.b3-typography h1 {
    text-align: left;
    font-size: 1.6em !important;
    font-weight: 600;
    position: relative;
    z-index: 0;
    vertical-align: middle;
    margin-top: 36px;
    color: var(--b3-font-color1);
}

.protyle-wysiwyg [data-node-id].h2,
.b3-typography h2 {
    font-size: 1.5em !important;
    font-weight: 600;
    position: relative;
    z-index: 0;
    margin-top: 30px;
    color: var(--b3-font-color2);
}

.protyle-wysiwyg [data-node-id].h3,
.b3-typography h3 {
    font-size: 1.4em !important;
    font-weight: 600;
    position: relative;
    z-index: 0;
    margin-top: 24px;
    color: var(--b3-font-color3);
}

.protyle-wysiwyg [data-node-id].h4,
.b3-typography h4 {
    font-size: 1.3em !important;
    font-weight: 600;
    position: relative;
    z-index: 0;
    margin-top: 18px;
    color: var(--b3-font-color4);
}

.protyle-wysiwyg [data-node-id].h5,
.b3-typography h5 {
    font-size: 1.2em !important;
    font-weight: 600;
    position: relative;
    z-index: 0;
    margin-top: 12px;
    color: var(--b3-font-color5);
}

.protyle-wysiwyg [data-node-id].h6,
.b3-typography h6 {
    font-size: 1.1em !important;
    font-weight: 600;
    position: relative;
    z-index: 0;
    margin-top: 6px;
    color: var(--b3-font-color6);
}

@media screen and (min-width: 960px) {

    /* 隐藏左上角设置按钮，鼠标悬浮时显示 */
    #toolbar .toolbar__item svg {
        opacity: 0.13;
    }

    #toolbar:hover svg {
        opacity: 0.58;
    }
    #toolbar .toolbar__item:hover svg {
        opacity: 1;
        color: var(--SCC-Red-Firole);
    }

    /* 代码块顶部添加风格元素 */
    .code-block::after {
        content: ' ';
        position: absolute;
        background: #ff0000;
        box-shadow: 58px 0 #0070c0, 116px 0 #ff3399, 174px 0 #912997;
        border-radius: var(--b3-border-radius-round);
        top: 10px;
        left: 38px;
        height: 3px;
        width: 58px;
       z-index: 1;
    }

}
@media screen and (max-width: 960px) {
    /* 代码块顶部添加风格元素 ，适配手机端*/
    .code-block::after {
        content: ' ';
        position: absolute;
        background: #ff0000;
        box-shadow: 13px 0 #0070c0, 26px 0 #ff3399, 39px 0 #912997;
        border-radius: var(--b3-border-radius-round);
        top: 10px;
        left: 13px;
        height: 3px;
        width: 13px;
       z-index: 1;
    }
    /* 代码块行号，适配手机端 */
    .protyle-linenumber__rows {
        padding: 22px 4px;
        width: 1.3em;
    }
    .protyle-linenumber {
        margin-left: 1.3em;
    }
    /* 宽度过小时隐藏 */
    ul.layout-tab-bar li [title="新建文档"], ul.layout-tab-bar li [title="更多"]  {
        display: none;
    }
}
.b3-typography, .protyle-wysiwyg {
    overflow: hidden;
}

/* 表格100%宽度 */
.protyle-wysiwyg table,
.b3-typography table {
    display: table;
    width: 100%;
    font-size: 90%;
}

.b3-typography table tr,
.protyle-wysiwyg table tr {
    background-color: transparent;
}

/*设置表格表头样式*/
table th {
    font-weight: bold;
    text-align: center;
    background-color: var(--SCC-Red-WPS-lighter) !important;
}

/* 设置表格内部边框 */
th, td {
    border: 0.25pt solid var(--SCC-Red-WPS) !important;
    border-collapse: collapse;
}

/* 表格奇偶行不同颜色 */
tbody tr:nth-child(2n) {
    background-color: var(--SCC-White-light) !important;
}

tbody tr:nth-child(2n + 1) {
    background-color: var(--SCC-White) !important;
}

/* 侧边栏引用计数 */
.counter {
    color: var(--SCC-Yellow-HellisePotter-light);
    background-color: var(--SCC-Purple-186-lighter);
    border-radius: 13px;
}
/* 文档内引用计数 */
.protyle-attr--refcount {
    right: 0px;
    top: 0px;
    position: absolute;
    line-height: 16px;
    padding: 0 4px;
    margin-top: 0px;
    margin-right: 0px;
    color: var(--SCC-Yellow-HellisePotter-light);
    border-radius: 13px;
    font-size: 12px;
    user-select: none;
    cursor: pointer;
    height: 16px;
    background-color: var(--SCC-Purple-186-lighter);
}
/* -------------------------------------------------代码块样式--------------------------------------------------- */
.code-block {
    border-radius: 7px !important;
    background-color: transparent !important;
    border: 0.1em solid var(--b3-border-color) !important;
    margin-left: 4px !important;
}
/* 代码块主体部分设置 */
.protyle-reset .hljs,
.protyle-wysiwyg .hljs, .b3-typography .hljs {
    padding-top: 4px !important;
    padding-bottom: 4px !important;
    padding-left: 16px;
    font-family: var(--b3-font-family-code);
    background-size: 20px 20px;
    background-image: none !important;
    background: transparent !important;
    border-top-right-radius: 4px;
    /* background-color: var(--b3-theme-background2); */
    /* z-index: -1; */
}
/*  代码块行数 */
.protyle-linenumber__rows {
    margin-top: 32px !important;
    padding: 4px;
    background-color: transparent !important;
    margin-bottom: 0px;
    font-family: var(--b3-font-family-code);
    border-top-left-radius: 4px;
}



/* 搜索界面标签页中文字居中 */
.b3-dialog--open .b3-dialog__container span.item__text {
    padding: 4px !important;
}

/* 给设置界面选择的地方加上边框 */
.b3-dialog--open .b3-dialog__container .b3-select {
    border: 1px solid var(--SCC-Purple-186-lighter);
}
/* 设置左侧选中样式 */
li.b3-list-item--focus.b3-list-item.b3-list-item--big, li.b3-list-item--focus.b3-list-item.b3-list-item--big svg.b3-list-item__graphic {
    color: var(--SCC-Blue-186);
}

/* 集市主题详情页 */
.config-bazaar__readme {
    background-color: var(--b3-theme-background);
    z-index: 99;
}


/* PDF */
.textLayer,
.pdf__resize {
    /* dark 蓝色、紫色背景显示不清楚，文档位于 https://github.com/siyuan-note/siyuan/issues/5351 */
    mix-blend-mode: multiply;
}

.b3-typography div.hljs, .protyle-wysiwyg div.hljs {
    background-color: #f8f9fa;
}

