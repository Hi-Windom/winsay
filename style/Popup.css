/* 弹出层 */


/*引用块弹出框*/
.block__popover {
  min-height: 13vh;
  max-height: 58vh;
}
.block__popover.block__popover--move.block__popover--open {
  animation: menu 0.13s ease-in-out;
  opacity: 0.99;
  transition: box-shadow 0.2s ease-in-out;
}
.block__popover.block__popover--move.block__popover--open:not([data-pin="true"]) * {
  transition: all 0.2s ease-in-out;
}
/* .block__popover.block__popover--move.block__popover--open:not([data-pin="true"]):hover * {
  background-color: #fafafafa;
  transition-delay: .58s;
} */
.block__popover.block__popover--move.block__popover--open[data-pin="true"]
{
  background-color: var(--b3-theme-background) !important;
  box-shadow: rgba(85, 91, 255, 0.31) 0px 0px 0px 3px,
    rgba(31, 193, 27, 0.38) 0px 0px 0px 6px,
    rgba(255, 217, 19, 0.58) 0px 0px 0px 9px,
    rgba(255, 156, 85, 0.96) 0px 0px 58px 12px,
    rgba(255, 85, 85, 0.88) 0px 0px 0px 15px !important;
  opacity: .98 !important;
  transition: all 0.2s ease-in-out;
}
.block__popover.block__popover--move.block__popover--open[data-pin="true"]:hover {
  opacity: 1;
  transition: all 0.2s ease-in-out;
}

/* 按钮的样式 */
body:not(.android) .b3-button--outline {
  color: var(--SCC-White);
  background-color: var(--SCColor);
  box-shadow: rgba(254, 239, 234, 0.13) 0px 2px 1px,
    rgba(254, 239, 234, 0.13) 0px 4px 4px, rgba(254, 239, 234, 0.13) 0px 8px 4px,
    rgba(254, 239, 234, 0.13) 0px 6px 8px;
}
body:not(.android) .b3-button--outline:focus,
body:not(.android) .b3-button--outline:hover {
  color: var(--SCC-Component-button-text-color);
  background-color: var(--SCC-Component-button-bg-color);
  box-shadow: rgba(254, 239, 234, 0.4) 0px 3px, rgba(0, 6, 85, 0.3) 0px 5px,
    rgba(72, 69, 80, 0.1) 0px 8px;
}
body.android .b3-button--outline {
  color: var(--SCC-Component-button-text-color);
  background-color: var(--SCC-Component-button-bg-color);
  box-shadow: rgba(254, 239, 234, 0.4) 0px 3px, rgba(0, 6, 85, 0.3) 0px 5px,
    rgba(72, 69, 80, 0.1) 0px 8px;
}

/* 输入框样式 */
.b3-text-field,
.pcr-app .pcr-interaction .pcr-result {
  border: 1px;
  border-radius: 4px;
  box-shadow: rgba(128, 81, 231, 0.31) 3px 3px 6px 0px inset,
    rgba(255, 255, 255, 0.5) -3px -3px 6px 1px inset;
  padding: 4px 8px;
  line-height: 20px;
  box-sizing: border-box;
  color: var(--b3-theme-on-background);
  transition: box-shadow 1.31s 0.31s cubic-bezier(0, 0, 0.2, 1);
  background-color: var(--b3-theme-background);
}
input:not(.b3-switch):not(.b3-slider):not(#keymapInput):hover {
  box-shadow: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px,
    rgba(6, 24, 44, 0.65) 0px 4px 6px -1px,
    rgba(255, 255, 255, 0.08) 0px 1px 0px inset;
}
.b3-text-field:not([placeholder="搜索"]):not(.fn__size200):not(.fn__flex-1):not(.fn__flex-center):focus {
  box-shadow: var(--SCC-baseComponent-Input-box-shadow-focus);
}

/* 选择框样式 */
.b3-select {
  /* border: var(--SCC-Component-selector-border); */
  background-color: var(--SCC-Component-selector-bg-color);
  backdrop-filter: brightness(0.94);
  padding-top: 0px !important;
  padding-bottom: 0px !important;
}

/* 检查框开关样式 */
.b3-switch{
  border-radius: 5.8px;
  box-shadow: #585858 -1px -1px 3px 0px;
}
.b3-switch:after {
  box-shadow: var(--b3-point-shadow);
  width: 15px;
  height: 17px;
  top: -5px;
  border: 1px solid #aaa;
  border-radius: 31%;
  background-color: #bbb;
  transition: transform .31s cubic-bezier(0.18, 0.89, 0.32, 1.28),opacity .2s !important;
}
.b3-switch:checked {
  opacity: .98;
}
.b3-switch:checked:after {
  border-color: var(--SCC-baseComponent-Switch-checked-ab-color);
}

/* 优化块级清除样式按钮显示效果 */
.b3-menu__label > div[aria-label="清除样式"] span {
  color: var(--b3-theme-background);
}
.b3-menu__submenu--row button:nth-last-child(2) {
  background-color: var(--b3-theme-surface-lighter) !important;
  margin-top: 8px !important;
  margin-bottom: 8px !important;
}
[aria-label="清除样式"]:after {
  content: "Clear Block Style";
  color: var(--SCC-Gray-Soledar);
  opacity: 0.58;
  position: absolute;
  left: 30px;
  font-size: 0.77rem;
  bottom: -3px;
}
[aria-label="清除样式"]:hover:after {
  content: "Clear Block Style";
  color: var(--b3-theme-on-background);
  opacity: 1;
  position: absolute;
  left: 30px;
  font-size: 0.77rem;
  bottom: -3px;
}

/* 通用弹出层缩窄，限高限宽，影响页签弹出层和标签弹出层 #92
# 92 后续改进：增加动画 #136 */
/* #commonMenu {
  max-height: 80vh !important;
  overflow-y: scroll !important;
  因共用ID，启用会造成样式污染
} */
#commonMenu:has(button):not(:has(button.b3-menu__item--readonly)):not(:has(.b3-menu__item--show)):not(:has(.b3-menu__separator)):not(:has(input)) {
  overflow-y: scroll;
  max-height: min(88vh,1000px);
  max-width: min(88vw,600px);
}
#commonMenu:has(button):not(:has(button.b3-menu__item--readonly)):not(:has(.b3-menu__item--show)):not(:has(.b3-menu__separator)):not(:has(input)) > .b3-menu__item--custom {
  border-top: 1px solid #c2c2c231 !important;
  animation: background-color-2 3.1s infinite alternate;
  animation: letter-spacing-more-list-1 0.26s alternate;
  transition-duration: 0.2s;
  letter-spacing: .31px;
}
#commonMenu:has(button):not(:has(button.b3-menu__item--readonly)):not(:has(.b3-menu__item--show)):not(:has(.b3-menu__separator)):not(:has(input)) .b3-menu__item--custom .b3-menu__label {
  margin-right: 5.8px !important;
  padding-left: 5.8px !important;
  word-break: break-all !important;
  -webkit-line-clamp: 1 !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  font-size: 16px !important;
}
body:not(.android) #commonMenu > button.b3-menu__item.b3-menu__item--custom:hover svg.b3-menu__action {
  opacity: .58;
  scale: 1.38;
}
body:not(.android) #commonMenu > button.b3-menu__item.b3-menu__item--custom.b3-menu__item--current svg.b3-menu__action:hover {
  opacity: 1 !important;
  scale: 1.38 !important;
  color: var(--SCC-Red-WPS);
}
body.android #commonMenu > button.b3-menu__item.b3-menu__item--custom svg.b3-menu__action {
  opacity: 1;
  width: 10px;
  height: 10px;
  color: var(--SCC-Red-WPS);
}