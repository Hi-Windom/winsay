/* 标签页底部背景颜色,标签页数量较少时可以看到，颜色和标签页颜色保持一致 */
ul.fn__flex.layout-tab-bar {
  background-color: var(--b3-theme-background);
  height: 100%;
  padding-left: 3px;
  animation: menu 0.2s ease-in-out;
}

/* 标签页鼠标悬浮时背景颜色 */
ul.layout-tab-bar .item:not(.item--readonly):hover {
  background-color: var(--SCC-Blue-Windom_2-lighter);
}

/* 标签页中文字的相关设置 */
ul.layout-tab-bar .item--pin .item__text {
  margin-right: 13px; /* 预留位置给钉住图标 */
  color: var(--SCC-Brown-186-light);
}
ul.layout-tab-bar .item:not(.item--pin) .item__text {
  width: auto;
  min-width: 3em;
  margin-right: 5px;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  display: inline;
  color: var(--SCC-Brown-186-lighter);
}
ul.layout-tab-bar .item:hover .item__text {
  color: var(--SCC-Brown-186);
}

/* 标签页svg */
ul.layout-tab-bar .item:not(.item--focus) .item__close svg {
  color: var(--SCC-Purple-Soledar);
}
/* 样式优化 */
.layout-tab-bar.fn__flex,
ul.fn__flex.layout-tab-bar li {
  box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px; /* 影响【设置】-【集市】标签页 */
}
body:not(.android) ul.layout-tab-bar:not(.layout-tab-bar--readonly) {
  flex: 1;
  min-width: 100% !important;
  width: auto;
  /* box-shadow: rgb(38, 57, 77) 0px 20px 30px -10px; */
}
body.android ul.layout-tab-bar:not(.layout-tab-bar--readonly) {
  flex: 1;
  min-width: calc(100% - 70px)  !important;
  width: auto;
  /* box-shadow: rgb(38, 57, 77) 0px 20px 30px -10px; */
}

body:not(.android) ul.layout-tab-bar.layout-tab-bar--readonly {
  flex-shrink: 0;
  min-width: 70px;
  max-width: 70px;
  width: 70px;
  position: absolute;
  right: 0px;
  padding-right: 42px;
  border-bottom: 3px ridge #ffffff13;
  background-color: #ffffff13;
  backdrop-filter: blur(1.86px);
}
body.android ul.layout-tab-bar.layout-tab-bar--readonly {
  flex-shrink: 0;
  min-width: 111px;
  max-width: 111px;
  width: 111px;
  position: absolute;
  right: 0px;
  padding-right: 31px;
  border-bottom: 3px ridge #ffffff13;
  background-color: #ffffff13;
  backdrop-filter: blur(1.86px);
}
body:not(.android) ul.layout-tab-bar.layout-tab-bar--readonly li.item--readonly {
  padding: 0px;
  width: 100%;
  opacity: 0;
}
body:not(.android) ul.layout-tab-bar.layout-tab-bar--readonly li.item--readonly:hover {
  opacity: 1;
}
/* ul.layout-tab-bar.layout-tab-bar--readonly .item__close {
  margin: 13px 13px 13px 0;
  display: flex;
  align-items: center;
} */

ul.layout-tab-bar li [title="新建文档"] {
  margin-left: 12px;
  margin-right: 16px;
  padding: 0;
  width: 15px;
}
ul.layout-tab-bar li [title="更多"] {
  margin-left: 8px;
  margin-right: 12px;
  padding: 0;
  width: 15px;
}
body.android ul.layout-tab-bar li [title="新建文档"] svg,
body.android ul.layout-tab-bar li [title="更多"] svg {
  min-width: 20px !important;
  width: 20px !important;
  min-height: 20px !important;
  height: 20px !important;
}
body.android ul.layout-tab-bar li [title="新建文档"] svg,
body.android ul.layout-tab-bar li [title="更多"] svg {
  color: var(--SCColor) !important;
  scale: 1.13 !important;
}
body:not(.android) ul.layout-tab-bar li [title="新建文档"] svg,
body:not(.android) ul.layout-tab-bar li [title="更多"] svg {
  color: var(--SCColor) !important;
  scale: 1.58 !important;
  padding: 0 !important;
  text-align: center !important;
  opacity: 0;
}
body:not(.android) ul.layout-tab-bar li [title="新建文档"] svg:hover,
body:not(.android) ul.layout-tab-bar li [title="更多"] svg:hover {
  color: var(--SCC-Red-Firole) !important;
  opacity: 1;
}
/* .item__close svg:hover {
  color: var(--SCC-Red-Firole);
  box-shadow: rgba(85, 91, 255, 0.06) 0px 0px 0px 1px,
    rgba(31, 193, 27, 0.01) 0px 0px 0px 2px,
    rgba(255, 217, 19, 0.2) 0px 0px 0px 3px,
    rgba(255, 156, 85, 0.3) 0px 0px 0px 4px,
    rgba(255, 85, 85, 0.1) 0px 0px 0px 5px;
} */
#layouts
  > div.fn__flex.fn__flex-1
  > div.layout__center.fn__flex.fn__flex-1
    div.layout-tab-container.fn__flex-1
  > div.fn__flex-1.protyle
  > div.protyle-breadcrumb
  > button {
  background-color: transparent !important;
}
li.item.item--readonly .item__close[title="新建文档"] + span.fn__flex-1 {
  display: none;
}

.layout-tab-bar .item {
  min-height: 35px;
  height: 35px;
}

/* 使用 li.item 而不是 .item ，避免修改影响【设置】-【集市】的标签页 */
/* 非当前页签样式 */
.layout-tab-bar li.item:not(:last-child).item:not(.item--focus),
.layout-tab-bar li.item:last-child:not(.item--focus):not(.item--readonly) {
  box-shadow: rgba(131, 131, 131, 0.4) 0px 2px 4px,
    rgba(131, 131, 131, 0.3) 0px 7px 3px -3px,
    rgba(131, 131, 131, 0.2) 0px -3px 0px inset !important;
  border-radius: 3px !important;
  border: 0px ridge transparent !important;
  /* margin-bottom: 0px !important; */
  max-width: 186px !important;
  min-width: 58px !important;
  transition-duration: 0.58s;
  transition-delay: 0.2s;
  font-weight: 520 !important;
  margin-right: 1px !important;
  margin-left: 1px !important;
}
/* 设置当前标签页样式 */
.layout-tab-bar .item--focus:after {
  height: 2px !important; /* 默认主题自带的 */
  opacity: 0.31;
}
#layouts .layout-tab-bar .item--focus {
  box-shadow: rgba(131, 131, 131, 0.4) 0px 2px 4px,
    rgba(131, 131, 131, 0.3) 0px 7px 3px -3px,
    rgba(131, 131, 131, 0.2) 0px -3px 0px inset !important;
  border-radius: 3px !important;
  /* border-bottom: 2px ridge var(--b3-theme-primary-light) !important; */
  margin-bottom: 3px !important;
  max-width: 666px !important;
  min-width: 58px !important;
  transition-timing-function: cubic-bezier(1, 0, 0, 1);
  transition-duration: 0.2s;
  margin-right: 1px !important;
  margin-left: 1px !important;
}
/* 钉住标签页优化排版 */
/* li.item.item--pin {
  margin-right: 5.8px !important;
  margin-left: 5.8px !important;
} */

/* 设置当前标签页文字样式，影响【设置】-【集市】 */
.layout-tab-bar .item--focus .item__text {
  color: var(--SCC-Red-Firole) !important;
  text-shadow: -1px 1px 13px var(--SCC-Orange-Windom);
  font-weight: 1314 !important;
}

/* 为钉住的标签页右上角增加大头钉图标 */
li.item.item--pin:not(.item--focus):after {
  content: "";
  content: url("../src/pin.svg");
  position: absolute;
  right: 5px;
  top: 0px;
  width: 11px;
  height: 11px;
  opacity: 0.8;
  filter: grayscale(58%);
}

li.item.item--pin.item--focus:after {
  content: "";
  content: url("../src/pin.svg") !important;
  position: absolute;
  right: 5px;
  top: 0px;
  width: 11px;
  height: 11px;
  opacity: 1;
  background-color: transparent !important;
}

/* 标签页内文档名文本样式 */
.layout-tab-bar .item--pin .item__text {
  display: block !important;
  max-width: 666px !important;
}

/* 标签页上面的emoji */
.layout-tab-bar .item__icon {
  opacity: 0.58;
}
.layout-tab-bar .item__icon:hover {
  opacity: 1;
}
.layout-tab-bar .item--pin .item__graphic,
.layout-tab-bar .item--pin .item__icon,
.layout-tab-bar .item__icon {
  padding: 4px 0 4px 8px;
}

/* 减小标签页上的emoji大小 */
.layout-tab-bar .item__icon > img,
.layout-tab-bar .item__icon > svg {
  height: 13px;
  width: 13px;
}

@media screen and (max-width: 300px) {
  /* 宽度过小时隐藏 */
  ul.layout-tab-bar li [title="新建文档"],
  ul.layout-tab-bar li [title="更多"] {
    display: none;
  }
}

/* 标签页【更多】弹出层缩窄 #92
# 92 后续改进：增加动画 #136 */
/* #commonMenu {
  max-height: 80vh !important;
  overflow-y: scroll !important;
  因共用ID，启用会造成样式污染
} */
#commonMenu > .b3-menu__item--custom {
  border-top: 1px solid #c2c2c231 !important;
  animation: background-color-2 3.1s infinite alternate;
  animation: letter-spacing-more-list-1 0.26s alternate;
  transition-duration: 0.2s;
  letter-spacing: .31px;
}
#commonMenu .b3-menu__item--custom .b3-menu__label {
  margin-right: 5.8px !important;
  padding-left: 5.8px !important;
  max-width: 800px !important;
  word-break: break-all !important;
  -webkit-line-clamp: 1 !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  font-size: 16px !important;
}
body:not(.android) #commonMenu > button.b3-menu__item.b3-menu__item--custom:hover svg.b3-menu__action {
  opacity: .58;
  scale: 1.38;
}
body:not(.android) #commonMenu > button.b3-menu__item.b3-menu__item--custom.b3-menu__item--current svg.b3-menu__action:hover {
  opacity: 1 !important;
  scale: 1.38 !important;
  color: var(--SCC-Red-WPS);
}
body.android #commonMenu > button.b3-menu__item.b3-menu__item--custom svg.b3-menu__action {
  opacity: 1;
  width: 10px;
  height: 10px;
  color: var(--SCC-Red-WPS);
}